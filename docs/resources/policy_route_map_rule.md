---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "vyos_policy_route_map_rule Resource - vyos"
subcategory: ""
description: |-
  Routing policy
  IP route-map
  |  Format  |  Description  |
  |----------|---------------|
  |  txt  |  Route map name  |

  Rule for this route-map
  |  Format  |  Description  |
  |----------|---------------|
  |  u32:1-65535  |  Route-map rule number  |
---

# vyos_policy_route_map_rule (Resource)

Routing policy

IP route-map

    |  Format  |  Description  |
    |----------|---------------|
    |  txt  |  Route map name  |

Rule for this route-map

    |  Format  |  Description  |
    |----------|---------------|
    |  u32:1-65535  |  Route-map rule number  |



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `identifier` (String) Rule for this route-map

    |  Format  |  Description  |
    |----------|---------------|
    |  u32:1-65535  |  Route-map rule number  |

### Optional

- `action` (String) Action to take on entries matching this rule

    |  Format  |  Description  |
    |----------|---------------|
    |  permit  |  Permit matching entries  |
    |  deny  |  Deny matching entries  |
- `call` (String) Call another route-map on match

    |  Format  |  Description  |
    |----------|---------------|
    |  txt  |  Route map name  |
- `continue` (String) Jump to a different rule in this route-map on a match

    |  Format  |  Description  |
    |----------|---------------|
    |  u32:1-65535  |  Rule number  |
- `description` (String) Description

    |  Format  |  Description  |
    |----------|---------------|
    |  txt  |  Description  |
- `match` (Attributes) Route parameters to match (see [below for nested schema](#nestedatt--match))
- `on_match` (Attributes) Exit policy on matches (see [below for nested schema](#nestedatt--on_match))
- `set` (Attributes) Route parameters (see [below for nested schema](#nestedatt--set))

<a id="nestedatt--match"></a>
### Nested Schema for `match`

Optional:

- `as_path` (String) BGP as-path-list to match
- `community` (Attributes) BGP community-list to match (see [below for nested schema](#nestedatt--match--community))
- `evpn` (Attributes) Ethernet Virtual Private Network (see [below for nested schema](#nestedatt--match--evpn))
- `extcommunity` (String) BGP extended community to match
- `interface` (String) Interface to use

    |  Format  |  Description  |
    |----------|---------------|
    |  txt  |  Interface name  |
- `ip` (Attributes) IP prefix parameters to match (see [below for nested schema](#nestedatt--match--ip))
- `ipv6` (Attributes) IPv6 prefix parameters to match (see [below for nested schema](#nestedatt--match--ipv6))
- `large_community` (Attributes) Match BGP large communities (see [below for nested schema](#nestedatt--match--large_community))
- `local_preference` (String) Local Preference

    |  Format  |  Description  |
    |----------|---------------|
    |  u32:0-4294967295  |  Local Preference  |
- `metric` (String) Metric of route to match

    |  Format  |  Description  |
    |----------|---------------|
    |  u32:1-65535  |  Route metric  |
- `origin` (String) BGP origin code to match

    |  Format  |  Description  |
    |----------|---------------|
    |  egp  |  Exterior gateway protocol origin  |
    |  igp  |  Interior gateway protocol origin  |
    |  incomplete  |  Incomplete origin  |
- `peer` (String) Peer address to match

    |  Format  |  Description  |
    |----------|---------------|
    |  ipv4  |  Peer IP address  |
    |  ipv6  |  Peer IPv6 address  |
- `rpki` (String) Match RPKI validation result

    |  Format  |  Description  |
    |----------|---------------|
    |  invalid  |  Match invalid entries  |
    |  notfound  |  Match notfound entries  |
    |  valid  |  Match valid entries  |
- `tag` (String) Route tag to match

    |  Format  |  Description  |
    |----------|---------------|
    |  u32:1-65535  |  Route tag  |

<a id="nestedatt--match--community"></a>
### Nested Schema for `match.community`

Optional:

- `community_list` (String) BGP community-list to match
- `exact_match` (String) Community-list to exactly match


<a id="nestedatt--match--evpn"></a>
### Nested Schema for `match.evpn`

Optional:

- `default_route` (String) Default EVPN type-5 route
- `rd` (String) Route Distinguisher

    |  Format  |  Description  |
    |----------|---------------|
    |  ASN:NN_OR_IP-ADDRESS:NN  |  Route Distinguisher, (x.x.x.x:yyy|xxxx:yyyy)  |
- `route_type` (String) Match route-type

    |  Format  |  Description  |
    |----------|---------------|
    |  macip  |  mac-ip route  |
    |  multicast  |  IMET route  |
    |  prefix  |  Prefix route  |
- `vni` (String) Virtual Network Identifier

    |  Format  |  Description  |
    |----------|---------------|
    |  u32:0-16777214  |  VXLAN virtual network identifier  |


<a id="nestedatt--match--ip"></a>
### Nested Schema for `match.ip`

Optional:

- `address` (Attributes) IP address of route to match (see [below for nested schema](#nestedatt--match--ip--address))
- `nexthop` (Attributes) IP next-hop of route to match (see [below for nested schema](#nestedatt--match--ip--nexthop))
- `route_source` (Attributes) Match advertising source address of route (see [below for nested schema](#nestedatt--match--ip--route_source))

<a id="nestedatt--match--ip--address"></a>
### Nested Schema for `match.ip.address`

Optional:

- `access_list` (String) IP access-list to match

    |  Format  |  Description  |
    |----------|---------------|
    |  u32:1-99  |  IP standard access list  |
    |  u32:100-199  |  IP extended access list  |
    |  u32:1300-1999  |  IP standard access list (expanded range)  |
    |  u32:2000-2699  |  IP extended access list (expanded range)  |
- `prefix_len` (String) IP prefix-length to match (can be used for kernel routes only)

    |  Format  |  Description  |
    |----------|---------------|
    |  u32:0-32  |  Prefix length  |
- `prefix_list` (String) IP prefix-list to match


<a id="nestedatt--match--ip--nexthop"></a>
### Nested Schema for `match.ip.nexthop`

Optional:

- `access_list` (String) IP access-list to match

    |  Format  |  Description  |
    |----------|---------------|
    |  u32:1-99  |  IP standard access list  |
    |  u32:100-199  |  IP extended access list  |
    |  u32:1300-1999  |  IP standard access list (expanded range)  |
    |  u32:2000-2699  |  IP extended access list (expanded range)  |
- `address` (String) IP address to match

    |  Format  |  Description  |
    |----------|---------------|
    |  ipv4  |  Nexthop IP address  |
- `prefix_len` (String) IP prefix-length to match

    |  Format  |  Description  |
    |----------|---------------|
    |  u32:0-32  |  Prefix length  |
- `prefix_list` (String) IP prefix-list to match
- `type` (String) Match type

    |  Format  |  Description  |
    |----------|---------------|
    |  blackhole  |  Blackhole  |


<a id="nestedatt--match--ip--route_source"></a>
### Nested Schema for `match.ip.route_source`

Optional:

- `access_list` (String) IP access-list to match

    |  Format  |  Description  |
    |----------|---------------|
    |  u32:1-99  |  IP standard access list  |
    |  u32:100-199  |  IP extended access list  |
    |  u32:1300-1999  |  IP standard access list (expanded range)  |
    |  u32:2000-2699  |  IP extended access list (expanded range)  |
- `prefix_list` (String) IP prefix-list to match



<a id="nestedatt--match--ipv6"></a>
### Nested Schema for `match.ipv6`

Optional:

- `address` (Attributes) IPv6 address of route to match (see [below for nested schema](#nestedatt--match--ipv6--address))
- `nexthop` (Attributes) IPv6 next-hop of route to match (see [below for nested schema](#nestedatt--match--ipv6--nexthop))

<a id="nestedatt--match--ipv6--address"></a>
### Nested Schema for `match.ipv6.address`

Optional:

- `access_list` (String) IPv6 access-list to match

    |  Format  |  Description  |
    |----------|---------------|
    |  txt  |  IPV6 access list name  |
- `prefix_len` (String) IPv6 prefix-length to match (can be used for kernel routes only)

    |  Format  |  Description  |
    |----------|---------------|
    |  u32:0-128  |  Prefix length  |
- `prefix_list` (String) IPv6 prefix-list to match


<a id="nestedatt--match--ipv6--nexthop"></a>
### Nested Schema for `match.ipv6.nexthop`

Optional:

- `access_list` (String) IPv6 access-list to match

    |  Format  |  Description  |
    |----------|---------------|
    |  txt  |  IPV6 access list name  |
- `address` (String) IPv6 address of next-hop

    |  Format  |  Description  |
    |----------|---------------|
    |  ipv6  |  Nexthop IPv6 address  |
- `prefix_list` (String) IPv6 prefix-list to match
- `type` (String) Match type

    |  Format  |  Description  |
    |----------|---------------|
    |  blackhole  |  Blackhole  |



<a id="nestedatt--match--large_community"></a>
### Nested Schema for `match.large_community`

Optional:

- `large_community_list` (String) BGP large-community-list to match



<a id="nestedatt--on_match"></a>
### Nested Schema for `on_match`

Optional:

- `goto` (String) Rule number to goto on match

    |  Format  |  Description  |
    |----------|---------------|
    |  u32:1-65535  |  Rule number  |
- `next` (String) Next sequence number to goto on match


<a id="nestedatt--set"></a>
### Nested Schema for `set`

Optional:

- `aggregator` (Attributes) BGP aggregator attribute (see [below for nested schema](#nestedatt--set--aggregator))
- `as_path` (Attributes) Transform BGP AS_PATH attribute (see [below for nested schema](#nestedatt--set--as_path))
- `atomic_aggregate` (String) BGP atomic aggregate attribute
- `community` (Attributes) BGP community attribute (see [below for nested schema](#nestedatt--set--community))
- `distance` (String) Locally significant administrative distance

    |  Format  |  Description  |
    |----------|---------------|
    |  u32:0-255  |  Distance value  |
- `evpn` (Attributes) Ethernet Virtual Private Network (see [below for nested schema](#nestedatt--set--evpn))
- `extcommunity` (Attributes) BGP extended community attribute (see [below for nested schema](#nestedatt--set--extcommunity))
- `ip_next_hop` (String) Nexthop IP address

    |  Format  |  Description  |
    |----------|---------------|
    |  ipv4  |  IP address  |
    |  unchanged  |  Set the BGP nexthop address as unchanged  |
    |  peer-address  |  Set the BGP nexthop address to the address of the peer  |
- `ipv6_next_hop` (Attributes) Nexthop IPv6 address (see [below for nested schema](#nestedatt--set--ipv6_next_hop))
- `l3vpn_nexthop` (Attributes) Next hop Information (see [below for nested schema](#nestedatt--set--l3vpn_nexthop))
- `large_community` (Attributes) BGP large community attribute (see [below for nested schema](#nestedatt--set--large_community))
- `local_preference` (String) BGP local preference attribute

    |  Format  |  Description  |
    |----------|---------------|
    |  u32:0-4294967295  |  Local preference value  |
- `metric` (String) Destination routing protocol metric

    |  Format  |  Description  |
    |----------|---------------|
    |  <+/-metric>  |  Add or subtract metric  |
    |  u32:0-4294967295  |  Metric value  |
- `metric_type` (String) Open Shortest Path First (OSPF) external metric-type

    |  Format  |  Description  |
    |----------|---------------|
    |  type-1  |  OSPF external type 1 metric  |
    |  type-2  |  OSPF external type 2 metric  |
- `origin` (String) Border Gateway Protocl (BGP) origin code

    |  Format  |  Description  |
    |----------|---------------|
    |  igp  |  Interior gateway protocol origin  |
    |  egp  |  Exterior gateway protocol origin  |
    |  incomplete  |  Incomplete origin  |
- `originator_id` (String) BGP originator ID attribute

    |  Format  |  Description  |
    |----------|---------------|
    |  ipv4  |  Orignator IP address  |
- `src` (String) Source address for route

    |  Format  |  Description  |
    |----------|---------------|
    |  ipv4  |  IPv4 address  |
    |  ipv6  |  IPv6 address  |
- `table` (String) Set prefixes to table

    |  Format  |  Description  |
    |----------|---------------|
    |  u32:1-200  |  Table value  |
- `tag` (String) Tag value for routing protocol

    |  Format  |  Description  |
    |----------|---------------|
    |  u32:1-65535  |  Tag value  |
- `weight` (String) BGP weight attribute

    |  Format  |  Description  |
    |----------|---------------|
    |  u32:0-4294967295  |  BGP weight  |

<a id="nestedatt--set--aggregator"></a>
### Nested Schema for `set.aggregator`

Optional:

- `as` (String) AS number of an aggregation

    |  Format  |  Description  |
    |----------|---------------|
    |  u32:1-4294967295  |  Rule number  |
- `ip` (String) IP address of an aggregation

    |  Format  |  Description  |
    |----------|---------------|
    |  ipv4  |  IP address  |


<a id="nestedatt--set--as_path"></a>
### Nested Schema for `set.as_path`

Optional:

- `exclude` (String) Remove/exclude from the as-path attribute

    |  Format  |  Description  |
    |----------|---------------|
    |  u32  |  AS number  |
- `prepend` (String) Prepend to the as-path

    |  Format  |  Description  |
    |----------|---------------|
    |  u32  |  AS number  |
- `prepend_last_as` (String) Use the last AS-number in the as-path

    |  Format  |  Description  |
    |----------|---------------|
    |  u32:1-10  |  Number of times to insert  |


<a id="nestedatt--set--community"></a>
### Nested Schema for `set.community`

Optional:

- `add` (String) Add communities to a prefix

    |  Format  |  Description  |
    |----------|---------------|
    |  <AS:VAL>  |  Community number in <0-65535:0-65535> format  |
    |  local-as  |  Well-known communities value NO_EXPORT_SUBCONFED 0xFFFFFF03  |
    |  no-advertise  |  Well-known communities value NO_ADVERTISE 0xFFFFFF02  |
    |  no-export  |  Well-known communities value NO_EXPORT 0xFFFFFF01  |
    |  internet  |  Well-known communities value 0  |
    |  graceful-shutdown  |  Well-known communities value GRACEFUL_SHUTDOWN 0xFFFF0000  |
    |  accept-own  |  Well-known communities value ACCEPT_OWN 0xFFFF0001  |
    |  route-filter-translated-v4  |  Well-known communities value ROUTE_FILTER_TRANSLATED_v4 0xFFFF0002  |
    |  route-filter-v4  |  Well-known communities value ROUTE_FILTER_v4 0xFFFF0003  |
    |  route-filter-translated-v6  |  Well-known communities value ROUTE_FILTER_TRANSLATED_v6 0xFFFF0004  |
    |  route-filter-v6  |  Well-known communities value ROUTE_FILTER_v6 0xFFFF0005  |
    |  llgr-stale  |  Well-known communities value LLGR_STALE 0xFFFF0006  |
    |  no-llgr  |  Well-known communities value NO_LLGR 0xFFFF0007  |
    |  accept-own-nexthop  |  Well-known communities value accept-own-nexthop 0xFFFF0008  |
    |  blackhole  |  Well-known communities value BLACKHOLE 0xFFFF029A  |
    |  no-peer  |  Well-known communities value NOPEER 0xFFFFFF04  |
- `delete` (String) Remove communities defined in a list from a prefix

    |  Format  |  Description  |
    |----------|---------------|
    |  txt  |  Community-list  |
- `none` (String) Completely remove communities attribute from a prefix
- `replace` (String) Set communities for a prefix

    |  Format  |  Description  |
    |----------|---------------|
    |  <AS:VAL>  |  Community number in <0-65535:0-65535> format  |
    |  local-as  |  Well-known communities value NO_EXPORT_SUBCONFED 0xFFFFFF03  |
    |  no-advertise  |  Well-known communities value NO_ADVERTISE 0xFFFFFF02  |
    |  no-export  |  Well-known communities value NO_EXPORT 0xFFFFFF01  |
    |  internet  |  Well-known communities value 0  |
    |  graceful-shutdown  |  Well-known communities value GRACEFUL_SHUTDOWN 0xFFFF0000  |
    |  accept-own  |  Well-known communities value ACCEPT_OWN 0xFFFF0001  |
    |  route-filter-translated-v4  |  Well-known communities value ROUTE_FILTER_TRANSLATED_v4 0xFFFF0002  |
    |  route-filter-v4  |  Well-known communities value ROUTE_FILTER_v4 0xFFFF0003  |
    |  route-filter-translated-v6  |  Well-known communities value ROUTE_FILTER_TRANSLATED_v6 0xFFFF0004  |
    |  route-filter-v6  |  Well-known communities value ROUTE_FILTER_v6 0xFFFF0005  |
    |  llgr-stale  |  Well-known communities value LLGR_STALE 0xFFFF0006  |
    |  no-llgr  |  Well-known communities value NO_LLGR 0xFFFF0007  |
    |  accept-own-nexthop  |  Well-known communities value accept-own-nexthop 0xFFFF0008  |
    |  blackhole  |  Well-known communities value BLACKHOLE 0xFFFF029A  |
    |  no-peer  |  Well-known communities value NOPEER 0xFFFFFF04  |


<a id="nestedatt--set--evpn"></a>
### Nested Schema for `set.evpn`

Optional:

- `gateway` (Attributes) Set gateway IP for prefix advertisement route (see [below for nested schema](#nestedatt--set--evpn--gateway))

<a id="nestedatt--set--evpn--gateway"></a>
### Nested Schema for `set.evpn.gateway`

Optional:

- `ipv4` (String) Set gateway IPv4 address

    |  Format  |  Description  |
    |----------|---------------|
    |  ipv4  |  Gateway IPv4 address  |
- `ipv6` (String) Set gateway IPv6 address

    |  Format  |  Description  |
    |----------|---------------|
    |  ipv6  |  Gateway IPv6 address  |



<a id="nestedatt--set--extcommunity"></a>
### Nested Schema for `set.extcommunity`

Optional:

- `bandwidth` (String) Bandwidth value in Mbps

    |  Format  |  Description  |
    |----------|---------------|
    |  u32:1-25600  |  Bandwidth value in Mbps  |
    |  cumulative  |  Cumulative bandwidth of all multipaths (outbound-only)  |
    |  num-multipaths  |  Internally computed bandwidth based on number of multipaths (outbound-only)  |
- `bandwidth_non_transitive` (String) The link bandwidth extended community is encoded as non-transitive
- `none` (String) Completely remove communities attribute from a prefix
- `rt` (String) Set route target value

    |  Format  |  Description  |
    |----------|---------------|
    |  ASN:NN  |  based on autonomous system number in format <0-65535:0-4294967295>  |
    |  IP:NN  |  Based on a router-id IP address in format <IP:0-65535>  |
- `soo` (String) Set Site of Origin value

    |  Format  |  Description  |
    |----------|---------------|
    |  ASN:NN  |  based on autonomous system number in format <0-65535:0-4294967295>  |
    |  IP:NN  |  Based on a router-id IP address in format <IP:0-65535>  |


<a id="nestedatt--set--ipv6_next_hop"></a>
### Nested Schema for `set.ipv6_next_hop`

Optional:

- `global` (String) Nexthop IPv6 global address

    |  Format  |  Description  |
    |----------|---------------|
    |  ipv6  |  IPv6 address and prefix length  |
- `local` (String) Nexthop IPv6 local address

    |  Format  |  Description  |
    |----------|---------------|
    |  ipv6  |  IPv6 address and prefix length  |
- `peer_address` (String) Use peer address (for BGP only)
- `prefer_global` (String) Prefer global address as the nexthop


<a id="nestedatt--set--l3vpn_nexthop"></a>
### Nested Schema for `set.l3vpn_nexthop`

Optional:

- `encapsulation` (Attributes) Encapsulation options (for BGP only) (see [below for nested schema](#nestedatt--set--l3vpn_nexthop--encapsulation))

<a id="nestedatt--set--l3vpn_nexthop--encapsulation"></a>
### Nested Schema for `set.l3vpn_nexthop.encapsulation`

Optional:

- `gre` (String) Accept L3VPN traffic over GRE encapsulation



<a id="nestedatt--set--large_community"></a>
### Nested Schema for `set.large_community`

Optional:

- `add` (String) Add large communities to a prefix ;

    |  Format  |  Description  |
    |----------|---------------|
    |  <GA:LDP1:LDP2>  |  Community in format <0-4294967295:0-4294967295:0-4294967295>  |
- `delete` (String) Remove communities defined in a list from a prefix

    |  Format  |  Description  |
    |----------|---------------|
    |  txt  |  Community-list  |
- `none` (String) Completely remove communities attribute from a prefix
- `replace` (String) Set large communities for a prefix

    |  Format  |  Description  |
    |----------|---------------|
    |  <GA:LDP1:LDP2>  |  Community in format <0-4294967295:0-4294967295:0-4294967295>  |
